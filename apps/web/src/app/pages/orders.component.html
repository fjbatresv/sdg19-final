<section class="orders-shell">
  <div class="orders-header">
    <div>
      <p class="eyebrow">Historial</p>
      <h1>Tus ordenes recientes</h1>
    </div>
    <a class="ghost" routerLink="/shop">Volver al catalogo</a>
  </div>

  <div class="orders-list">
    @for (order of orders(); track order.orderId) {
      <article class="order-card">
        <div>
          <p class="order-id">Orden {{ order.orderId }}</p>
          <p class="subtle">Creada {{ order.createdAt | date : 'medium' }}</p>
        </div>
        <div class="order-meta">
          <span class="pill">
            @switch (order.status) {
              @case ('CREATED') {
                <span>Creada</span>
              }
              @case ('PENDING') {
                <span>Pendiente</span>
              }
              @case ('FAILED') {
                <span>Fallida</span>
              }
              @case ('COMPLETED') {
                <span>Completada</span>
              }
              @default {
                <span>{{ order.status }}</span>
              }
            }
          </span>
          <strong>{{ formatMoney(order.total, order.currency) }}</strong>
        </div>
      </article>
    }
  </div>

  @if (loading()) {
    <p class="subtle" role="status" aria-live="polite" aria-atomic="true">
      Cargando ordenes...
    </p>
  } @else if (error()) {
    <p class="error" role="alert">{{ error() }}</p>
  }
</section>
