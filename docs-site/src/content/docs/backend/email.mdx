---
title: Emails
description: Plantilla SES y almacenamiento en S3.
---

import Mermaid from '../../_components/Mermaid.astro';

El sistema de correos procesa las ordenes desde SQS y envia via SES.

Flujo:

```mermaid
sequenceDiagram
  participant SNS as SNS Orders Topic
  participant SQS as Orders Queue
  participant Lambda as Order Email Lambda
  participant SES as SES
  participant S3 as EmailsBucket

  SNS->>SQS: Mensaje de orden
  SQS->>Lambda: Batch SQS
  Lambda->>SES: SendTemplatedEmail
  Lambda->>S3: Guardar copia JSON
```
<Mermaid />

Notas:

- La plantilla SES se versiona en CDK.
- Los objetos se cifran con SSE-KMS.
